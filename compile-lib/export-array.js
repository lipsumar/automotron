import automotron from '../src/automotron/Graph';

const state = {"graph":{"nodes":[{"id":1,"type":"container","value":{"value":"Bienvenue","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":-482.86820997352504,"y":-3.527889288267943}},{"id":3,"type":"generator","value":[{"value":"là où","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"cet endroit où","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"ce lieu où","agreement":{"m":true,"f":true,"s":true,"p":true}}],"pos":{"x":-3.5,"y":-327},"generator":"list","rawValue":"là où\ncet endroit où\nce lieu où"},{"id":4,"type":"container","value":{"value":"à la maison","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":-261.5,"y":-176}},{"id":5,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":-18.5,"y":-173}},{"id":6,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":236.5,"y":-170}},{"id":7,"type":"generator","value":[{"value":"le néant","agreement":{"m":true,"f":false,"s":true,"p":false}},{"value":"la sortie","agreement":{"m":false,"f":true,"s":true,"p":false}},{"value":"le théâtre","agreement":{"m":true,"f":false,"s":true,"p":false}},{"value":"les 4000","agreement":{"m":true,"f":true,"s":false,"p":true}},{"value":"la ronde flamboyante","agreement":{"m":false,"f":true,"s":true,"p":false}},{"value":"le RRRR festival","agreement":{"m":true,"f":false,"s":true,"p":false}},{"value":"des aventurières","agreement":{"m":true,"f":true,"s":false,"p":true},"agreed":{"ms":null,"fs":null,"mp":"des aventuriers","fp":"des aventurières"}}],"pos":{"x":201.65858562968742,"y":-551.8875528320314},"generator":"list","rawValue":"le néant(ms)\nla sortie(fs)\nle théâtre(ms)\nles 4000(p)\nla ronde flamboyante(fs)\nle RRRR festival(ms)\n[des aventuriers, des aventurières](p)"},{"id":8,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":518.5,"y":-168}},{"id":9,"type":"generator","value":[{"value":"disparaissent","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"disparaît","fs":"disparaît","mp":"disparaissent","fp":"disparaissent"}},{"value":"fête","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"fête","fs":"fête","mp":"fêtent","fp":"fêtent"}},{"value":"se font par le sommet","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"se fait par le sommet","fs":"se fait par le sommet","mp":"se font par le sommet","fp":"se font par le sommet"}},{"value":"vivent","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"vit","fs":"vit","mp":"vivent","fp":"vivent"}},{"value":"brille","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"brille","fs":"brille","mp":"brillent","fp":"brillent"}},{"value":"éclate","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"éclate","fs":"éclate","mp":"éclatent","fp":"éclatent"}},{"value":"débute","agreement":{"m":true,"f":true,"s":true,"p":false}},{"value":"se questionnent","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"se questionne","fs":"se questionne","mp":"se questionnent","fp":"se questionnent"}}],"pos":{"x":512.6502970414062,"y":-597.1005655117187},"generator":"list","rawValue":"[disparaît, disparaît, disparaissent, disparaissent]\n[fête, fête, fêtent, fêtent]\n[se fait par le sommet, se fait par le sommet, se font par le sommet, se font par le sommet]\n[vit, vit, vivent, vivent]\n[brille,brille,brillent,brillent]\n[éclate, éclate, éclatent, éclatent]\ndébute(s)\n[se questionne, se questionne, se questionnent, se questionnent]"},{"id":10,"type":"container","value":{"value":"et","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":785.6573403218755,"y":-167.61417227421884}},{"id":11,"type":"container","value":{"value":"// sujet","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":266.4372843617187,"y":-91.63074945078131}},{"id":12,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":909.4821775156252,"y":-161.985770583594}},{"id":13,"type":"generator","value":[{"value":"le public","agreement":{"m":true,"f":false,"s":true,"p":false}},{"value":"la lune","agreement":{"m":false,"f":true,"s":true,"p":false}},{"value":"l'humanité","agreement":{"m":false,"f":true,"s":true,"p":false}},{"value":"la saison 1","agreement":{"m":false,"f":true,"s":true,"p":false}}],"pos":{"x":868.6762652585941,"y":-416.67094708437526},"generator":"list","rawValue":"le public(ms)\nla lune(fs)\nl'humanité(fs)\nla saison 1(fs)"},{"id":14,"type":"container","value":{"value":"// verbe","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":570.370975655469,"y":-80.37394606953137}},{"id":15,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":1217.6371700773443,"y":-163.39287100625006}},{"id":16,"type":"generator","value":[{"value":"danse","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"danse","fs":"danse","mp":"dansent","fp":"dansent"}},{"value":"vivent","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"vit","fs":"vit","mp":"vivent","fp":"vivent"}},{"value":"réalise","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"réalise","fs":"réalise","mp":"réalisent","fp":"réalisent"}},{"value":"rencontre","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"rencontre","fs":"rencontre","mp":"rencontrent","fp":"rencontrent"}},{"value":"scintille","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"scintille","fs":"scintille","mp":"scintillent","fp":"scintillent"}},{"value":"rêvent","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"rêve","fs":"rêve","mp":"rêvent","fp":"rêvent"}},{"value":"déploient","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"déploie","fs":"déploie","mp":"déploient","fp":"déploient"}},{"value":"interroge","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"interroge","fs":"interroge","mp":"interrogent","fp":"interrogent"}}],"pos":{"x":1226.0797726132814,"y":-525.0176796289062},"generator":"list","rawValue":"[danse, danse, dansent, dansent]\n[vit, vit, vivent, vivent]\n[réalise, réalise, réalisent, réalisent]\n[rencontre, rencontre, rencontrent, rencontrent]\n[scintille, scintille, scintillent, scintillent]\n[rêve, rêve, rêvent, rêvent]\n[déploie, déploie, déploient, déploient]\n[interroge, interroge, interrogent, interrogent]"},{"id":17,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":1502.2357185758221,"y":-160.5209790436087}},{"id":18,"type":"generator","value":[{"value":"sur","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"à travers","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"aussitôt","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"par bonheur","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"davantage","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"inlassablement","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"activement","agreement":{"m":true,"f":true,"s":true,"p":true}}],"pos":{"x":1468.9745028975212,"y":-428.41689375005103},"generator":"list","rawValue":"sur\nà travers\naussitôt\npar bonheur\ndavantage\ninlassablement\nactivement"},{"id":19,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":1781.3455201006234,"y":-164.65046700899904}},{"id":20,"type":"generator","value":[{"value":"le futur","agreement":{"m":true,"f":false,"s":true,"p":false}},{"value":"la 1ère saison","agreement":{"m":false,"f":true,"s":true,"p":false}},{"value":"un engagement","agreement":{"m":true,"f":false,"s":true,"p":false}},{"value":"une vision du monde","agreement":{"m":false,"f":true,"s":true,"p":false}},{"value":"des besoins de liberté","agreement":{"m":false,"f":true,"s":true,"p":false}},{"value":"une clairvoyance","agreement":{"m":false,"f":true,"s":true,"p":false}},{"value":"ses créations","agreement":{"m":false,"f":true,"s":false,"p":true}},{"value":"la place","agreement":{"m":false,"f":true,"s":true,"p":false}}],"pos":{"x":1779.1478051279873,"y":-412.99964619411224},"generator":"list","rawValue":"le futur(ms)\nla 1ère saison(fs)\nun engagement(ms)\nune vision du monde(fs)\ndes besoins de liberté(fs)\nune clairvoyance(fs)\nses créations(fp)\nla place(fs)"},{"id":21,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":2049.5443131730426,"y":-155.63429516327636}},{"id":22,"type":"generator","value":[{"value":"jolie","agreement":{"m":true,"f":true,"s":true,"p":false},"agreed":{"ms":"joli","fs":"jolie","mp":null,"fp":null}},{"value":"2019/2020","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"définitif","agreement":{"m":true,"f":true,"s":true,"p":false},"agreed":{"ms":"définitif","fs":"définitive","mp":null,"fp":null}},{"value":"singulière","agreement":{"m":true,"f":true,"s":true,"p":false},"agreed":{"ms":"singulier","fs":"singulière","mp":null,"fp":null}},{"value":"magique","agreement":{"m":true,"f":true,"s":false,"p":true},"agreed":{"ms":null,"fs":null,"mp":"magique","fp":"magiques"}},{"value":"simple","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"foisonnantes","agreement":{"m":true,"f":true,"s":true,"p":true},"agreed":{"ms":"foisonnant","fs":"foisonnante","mp":"foisonnants","fp":"foisonnantes"}},{"value":"des femmes","agreement":{"m":false,"f":true,"s":false,"p":true}}],"pos":{"x":2052.8021024265977,"y":-404.8551730602252},"generator":"list","rawValue":"[joli, jolie](s)\n2019/2020\n[définitif, définitive](s)\n[singulier, singulière](s)\n[magique, magiques](p)\nsimple\n[foisonnant, foisonnante, foisonnants, foisonnantes]\ndes femmes(fp)"},{"id":23,"type":"container","value":{"value":"et","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":733.863924045203,"y":245.08336650746503}},{"id":24,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":839.8892611951829,"y":249.24122286628779}},{"id":25,"type":"generator","value":[{"value":"demain","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"déjà","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"plus loin","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"peut-être","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"aussi","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"surtout","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"intensément","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"davantage","agreement":{"m":true,"f":true,"s":true,"p":true}}],"pos":{"x":848.2049739128286,"y":-72.99264494247427},"generator":"list","rawValue":"demain\ndéjà\nplus loin\npeut-être\naussi\nsurtout\nintensément\ndavantage"},{"id":26,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":1164.2020571833564,"y":267.9515764809904}},{"id":27,"type":"generator","value":[{"value":"encore","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"ici et maintenant","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"par la suite","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"inévitablement","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"enfin","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"ensemble","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"toi et moi","agreement":{"m":true,"f":true,"s":true,"p":true}}],"pos":{"x":1160.0442008245338,"y":-27.256224995424077},"generator":"list","rawValue":"encore\nici et maintenant\npar la suite\ninévitablement\nenfin\nensemble\ntoi et moi"},{"id":28,"type":"generator","value":[{"value":"nous y serons","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"nous pensons","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"nous construisons","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"nous pensons","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"nous écrirons","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"nous nous révolterons","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"nous y sommes","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"nous les écoutons","agreement":{"m":true,"f":true,"s":true,"p":true}}],"pos":{"x":1461.4887868391813,"y":12.24341041339187},"generator":"list","rawValue":"nous y serons\nnous pensons\nnous construisons\nnous pensons\nnous écrirons\nnous nous révolterons\nnous y sommes\nnous les écoutons"},{"id":29,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":1453.1730741215365,"y":274.1883610192243}},{"id":30,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":1735.9073065214823,"y":280.42514555745845}},{"id":31,"type":"generator","value":[{"value":"assis","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"rêveurs","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"déterminés","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"silencieux","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"passionnés","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"joyeusement","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"courageusement","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"attentifs","agreement":{"m":true,"f":true,"s":true,"p":true}}],"pos":{"x":1742.1440910597166,"y":22.63805131044819},"generator":"list","rawValue":"assis\nrêveurs\ndéterminés\nsilencieux\npassionnés\njoyeusement\ncourageusement\nattentifs"},{"id":32,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":2035.2729643567197,"y":280.42514555745845}},{"id":33,"type":"generator","value":[{"value":"et puis","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"quand soudain","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"aussi longtemps que","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"pour autant que","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"quand tout à coup","agreement":{"m":true,"f":true,"s":true,"p":true}},{"value":"jusqu'à ce que","agreement":{"m":true,"f":true,"s":true,"p":true}}],"pos":{"x":2016.5626107420167,"y":43.92390025911732},"generator":"list","rawValue":"et puis\nquand soudain\naussi longtemps que\npour autant que\nquand tout à coup\njusqu'à ce que"},{"id":35,"type":"operator","pos":{"x":2303.438476065006,"y":418.2647643582036},"operator":"split"},{"id":37,"type":"container","value":{"value":"...","agreement":{"m":true,"f":true,"s":true,"p":true}},"pos":{"x":2396.303895745061,"y":349.2790240244485}}],"links":[{"from":{"nodeId":4,"outlet":"outlet"},"to":{"nodeId":5,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":3,"outlet":"outlet"},"to":{"nodeId":5,"inlet":"generator"},"type":"main"},{"from":{"nodeId":5,"outlet":"outlet"},"to":{"nodeId":6,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":7,"outlet":"outlet"},"to":{"nodeId":6,"inlet":"generator"},"type":"main"},{"from":{"nodeId":6,"outlet":"outlet"},"to":{"nodeId":8,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":9,"outlet":"outlet"},"to":{"nodeId":8,"inlet":"generator"},"type":"main"},{"from":{"nodeId":8,"outlet":"agreement"},"to":{"nodeId":6,"inlet":"agreement"},"type":"agreement"},{"from":{"nodeId":8,"outlet":"outlet"},"to":{"nodeId":10,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":10,"outlet":"outlet"},"to":{"nodeId":12,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":13,"outlet":"outlet"},"to":{"nodeId":12,"inlet":"generator"},"type":"main"},{"from":{"nodeId":12,"outlet":"outlet"},"to":{"nodeId":15,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":16,"outlet":"outlet"},"to":{"nodeId":15,"inlet":"generator"},"type":"main"},{"from":{"nodeId":15,"outlet":"agreement"},"to":{"nodeId":12,"inlet":"agreement"},"type":"agreement"},{"from":{"nodeId":18,"outlet":"outlet"},"to":{"nodeId":17,"inlet":"generator"},"type":"main"},{"from":{"nodeId":15,"outlet":"outlet"},"to":{"nodeId":17,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":17,"outlet":"outlet"},"to":{"nodeId":19,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":20,"outlet":"outlet"},"to":{"nodeId":19,"inlet":"generator"},"type":"main"},{"from":{"nodeId":19,"outlet":"outlet"},"to":{"nodeId":21,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":22,"outlet":"outlet"},"to":{"nodeId":21,"inlet":"generator"},"type":"main"},{"from":{"nodeId":21,"outlet":"agreement"},"to":{"nodeId":19,"inlet":"agreement"},"type":"agreement"},{"from":{"nodeId":21,"outlet":"outlet"},"to":{"nodeId":23,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":25,"outlet":"outlet"},"to":{"nodeId":24,"inlet":"generator"},"type":"main"},{"from":{"nodeId":23,"outlet":"outlet"},"to":{"nodeId":24,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":27,"outlet":"outlet"},"to":{"nodeId":26,"inlet":"generator"},"type":"main"},{"from":{"nodeId":24,"outlet":"outlet"},"to":{"nodeId":26,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":26,"outlet":"outlet"},"to":{"nodeId":29,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":28,"outlet":"outlet"},"to":{"nodeId":29,"inlet":"generator"},"type":"main"},{"from":{"nodeId":29,"outlet":"outlet"},"to":{"nodeId":30,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":31,"outlet":"outlet"},"to":{"nodeId":30,"inlet":"generator"},"type":"main"},{"from":{"nodeId":33,"outlet":"outlet"},"to":{"nodeId":32,"inlet":"generator"},"type":"main"},{"from":{"nodeId":30,"outlet":"outlet"},"to":{"nodeId":32,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":35,"outlet":"split-b"},"to":{"nodeId":6,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":35,"outlet":"split-a"},"to":{"nodeId":37,"inlet":"inlet"},"type":"main"},{"from":{"nodeId":1,"outlet":"outlet"},"to":{"nodeId":6,"inlet":"inlet"},"type":"main"}],"startNodeId":1},"board":{"stage":{"pos":{"x":203.93554704043976,"y":394.2269389563429},"scale":{"x":0.5050679529955187,"y":0.5050679529955187}}},"name":"rideau v1"}

const graph = new automotron(state.graph);


let count = 0;
const all = []

function loop(){
  return graph.run().then(sequence => {
    const words = sequence
      .filter(s => s.value != 'Bienvenue')
      .map(s => s.value)

    document.body.querySelector('#out').innerHTML += JSON.stringify(words) + '<br>';
    all.push(...words);

    if(count < 100){
      count++
      loop()
    } else {
      document.body.querySelector('#all').innerHTML = JSON.stringify(all)
    }
  })
}

loop()



